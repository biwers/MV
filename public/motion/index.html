<!doctype html>
<html>
<head>
  <title>Motion experiments by Michael Villar</title>
  <link rel="icon" type="image/png" href="/images/favicon.png">
  <style>
  * {
    padding: 0;
    margin: 0;
    font-family: "HelveticaNeue", "Helvetica Neue", Helvetica, Arial;
  }
  body {
    background: hsl(0, 0%, 96%);
  }
  h1, h3 {
    font-family: "HelveticaNeueMedium", "HelveticaNeue-Medium", "Helvetica Neue Medium", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial;
    font-weight: normal;
    font-size: 22px;
    color: #121301;
  }
  h3 {
    font-size: 18px;
  }
  p, a {
    color: #7B7B7B;
  }
  a:hover {
    color: #000;
  }
  video {
    background: #fff;
  }
  header {
    padding: 50px 0 5px;
  }
  header, section {
    width: 400px;
    margin: 0 auto;
  }
  .video {
    margin: 45px 0;
  }
  </style>
</head>
<body>
  <header>
    <h1>Motion Experiments</h1>
    <p>Follow me on <a href="https://twitter.com/michaelvillar" target="_blank">Twitter</a></p>
  </header>
  <section>
    <div class="video">
      <h3>11-LCD</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/11-lcd/lcd.mp4" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>10-Slides</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/10-slides/slides.mp4" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>09-Logo</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/09-logo/logo.mp4" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>08-Photo Loading</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/08-photo-loading/photo-loading.mp4" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>07-Button Touch</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/07-button-touch/button-touch.mov" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>06-Volume</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/06-volume/volume.mov" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>05-Add</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/05-add/add.mov" width="320" height="568"></video>
    </div>
    <div class="video">
      <h3>04-Newton Cradle</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/04-newton-cradle/newton-cradle.mov" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>03-Search Icon</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/03-search-icon/search-icon.mov" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>02-Graph</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/02-graph/graph.mov" width="400" height="300"></video>
    </div>
    <div class="video">
      <h3>01-Spinner</h3>
      <video loop src="http://michaelvillar.s3.amazonaws.com/motion/01-spinner/spinner.mov" width="400" height="300"></video>
    </div>
  </section>
  <script>
  function isMobile() {
    return navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i);
  }
  function getOffset(el, property) {
    value = 0;
    while(el != null) {
      value += el[property];
      el = el.offsetParent;
    }
    return value;
  }
  function isVisible(el) {
    // get offset
    var y = getOffset(el, 'offsetTop');
    // convert to screen coordinate
    y = y - window.scrollY;

    var height = el.clientHeight;
    var windowHeight = window.innerHeight;

    return (y + height > 0 && y < windowHeight);
  }

  // only play videos on screen
  function check() {
    for(var i=0;i<els.length;i++) {
      var el = els[i];
      if(isVisible(el)) {
        el.play();
      }
      else {
        el.pause();
      }
    }
  }

  var els = document.querySelectorAll('video');
  for(var i=0;i<els.length;i++) {
    (function() {
      var el = els[i];
      el.addEventListener('click', function() {
        if(el.paused)
          el.play();
        else
          el.pause();
      });
    })();
  }

  if(!isMobile()) {
    var scrollTimeout;
    window.addEventListener('scroll', function() {
      clearTimeout(scrollTimeout);
      setTimeout(check, 50);
    });
    check();
  }
  </script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55373879-1', 'auto');
  ga('send', 'pageview');

  </script>
</body>
</html>
